function [b] = initialize_vars(subjects,i,directory)

datadir = '/raw_reorient/';
%%%%%%%%%%%%
% SPM info
b.spmDir = fileparts(which('spm'));% path to SPM installation

% Directory information
switch directory
    case 'local'
        dataDir = '/Users/Pamsfwang/Desktop/VR_nims/';
    case 'sni'
        dataDir = '/Volumes/group/awagner/sfwang/VR_nims/';
    case 'vm'
        dataDir = '/share/awagner/sfwang/VR_nims/';
end


b.curSubj = subjects{i};
b.dataDir = strcat(dataDir,b.curSubj,datadir);  % make data directory subject-specific
b.funcRuns = {'08_1_Ax_EPI_fMRI_Accel2_15mm' '09_1_Ax_EPI_fMRI_Accel2_15mm'...
    '11_1_Ax_EPI_fMRI_Accel2_15mm' '12_1_Ax_EPI_fMRI_Accel2_15mm'...
    '14_1_Ax_EPI_fMRI_Accel2_15mm' '15_1_Ax_EPI_fMRI_Accel2_15mm'...
    '17_1_Ax_EPI_fMRI_Accel2_15mm' '18_1_Ax_EPI_fMRI_Accel2_15mm'...
    '20_1_Ax_EPI_fMRI_Accel2_15mm' '21_1_Ax_EPI_fMRI_Accel2_15mm'...
    '23_1_Ax_EPI_fMRI_Accel2_15mm' '24_1_Ax_EPI_fMRI_Accel2_15mm'};       % folders containing functional images
b.runNumbers = 1:12;
b.anatT2_coronal = '02_1_T2_Coronal_Anatomy';% folder containing T2 coronal
b.anatT2_inplane = '03_1_T2_Inplane_Anatomy_15mm';
b.anatT1 = '26_1_Axial_FSPGR_3D';
b.maskDir = fullfile(b.dataDir,'masks');
b.ROImaskDir = fullfile(b.maskDir,'ROImasks');

% Call sub-function to run exceptions
b = run_exceptions(b);

end


% Subject-specific exceptions (e.g., deviations from naming convention)
function b = run_exceptions(b)

if strcmp(b.curSubj,'vr02')
    b.funcRuns = {'08_1_Ax_EPI_fMRI_Accel2_15mm' '08_2_Ax_EPI_fMRI_Accel2_15mm'...
        '10_1_Ax_EPI_fMRI_Accel2_15mm' '10_2_Ax_EPI_fMRI_Accel2_15mm' ...
        '12_1_Ax_EPI_fMRI_Accel2_15mm' '12_2_Ax_EPI_fMRI_Accel2_15mm'...
        '14_1_Ax_EPI_fMRI_Accel2_15mm' '14_2_Ax_EPI_fMRI_Accel2_15mm' ...
        '16_2_Ax_EPI_fMRI_Accel2_15mm' ...
        '18_1_Ax_EPI_fMRI_Accel2_15mm' '18_2_Ax_EPI_fMRI_Accel2_15mm'}; % e.g., if s01 had different run numbers
    b.runNumbers = [1:8 10:12];
    b.anatT1 = '20_1_Axial_FSPGR_3D';
end

if strcmp(b.curSubj,'vr04')
    b.funcRuns = {'09_1_Ax_EPI_fMRI_Accel2_15mm' '10_1_Ax_EPI_fMRI_Accel2_15mm'...
        '12_1_Ax_EPI_fMRI_Accel2_15mm' '13_1_Ax_EPI_fMRI_Accel2_15mm'...
        '15_1_Ax_EPI_fMRI_Accel2_15mm' '16_1_Ax_EPI_fMRI_Accel2_15mm'...
        '18_1_Ax_EPI_fMRI_Accel2_15mm' '19_1_Ax_EPI_fMRI_Accel2_15mm'...
        '21_1_Ax_EPI_fMRI_Accel2_15mm' '22_1_Ax_EPI_fMRI_Accel2_15mm'...
        '24_1_Ax_EPI_fMRI_Accel2_15mm' '25_1_Ax_EPI_fMRI_Accel2_15mm'}; % e.g., if s01 had different run numbers
    
    b.anatT2_coronal = '03_1_T2_Coronal_Anatomy';% folder containing T2 coronal
    b.anatT2_inplane = '04_1_T2_Inplane_Anatomy_15mm';
    b.anatT1 = '27_1_Axial_FSPGR_3D';
end

if strcmp(b.curSubj,'vr06')
   b.funcRuns = {'08_1_Ax_EPI_fMRI_Accel2_15mm' '09_1_Ax_EPI_fMRI_Accel2_15mm'...
    '11_1_Ax_EPI_fMRI_Accel2_15mm' ...
    '14_1_Ax_EPI_fMRI_Accel2_15mm' '15_1_Ax_EPI_fMRI_Accel2_15mm'...
    '17_1_Ax_EPI_fMRI_Accel2_15mm' '18_1_Ax_EPI_fMRI_Accel2_15mm'...
    '20_1_Ax_EPI_fMRI_Accel2_15mm' '21_1_Ax_EPI_fMRI_Accel2_15mm'...
    '23_1_Ax_EPI_fMRI_Accel2_15mm' '24_1_Ax_EPI_fMRI_Accel2_15mm'};       % folders containing functional images
    b.anatT1 = '';
    b.runNumbers = [1:3 5:12];
end

if strcmp(b.curSubj,'vr08')
  b.funcRuns = {'08_1_Ax_EPI_fMRI_Accel2_15mm' '09_1_Ax_EPI_fMRI_Accel2_15mm'...
    '11_1_Ax_EPI_fMRI_Accel2_15mm' '12_1_Ax_EPI_fMRI_Accel2_15mm'};       % folders containing functional images
b.runNumbers = 1:4;
end

if strcmp(b.curSubj,'vr09')
    b.funcRuns = {'12_1_Ax_EPI_fMRI_Accel2_15mm'...
        '14_1_Ax_EPI_fMRI_Accel2_15mm' '15_1_Ax_EPI_fMRI_Accel2_15mm'...
        '17_1_Ax_EPI_fMRI_Accel2_15mm' '18_1_Ax_EPI_fMRI_Accel2_15mm'...
        '20_1_Ax_EPI_fMRI_Accel2_15mm' '21_1_Ax_EPI_fMRI_Accel2_15mm'...
        '23_1_Ax_EPI_fMRI_Accel2_15mm' '24_1_Ax_EPI_fMRI_Accel2_15mm'};       % folders containing functional images
    b.runNumbers = 4:12;
    
end

if strcmp(b.curSubj,'vr11')
    b.funcRuns = {'08_1_Ax_EPI_fMRI_Accel2_15mm' ...
    '11_1_Ax_EPI_fMRI_Accel2_15mm' '12_1_Ax_EPI_fMRI_Accel2_15mm'...
    '14_1_Ax_EPI_fMRI_Accel2_15mm' '15_1_Ax_EPI_fMRI_Accel2_15mm'...
    '18_1_Ax_EPI_fMRI_Accel2_15mm'...
    '20_1_Ax_EPI_fMRI_Accel2_15mm' '21_1_Ax_EPI_fMRI_Accel2_15mm'...
    '23_1_Ax_EPI_fMRI_Accel2_15mm' '24_1_Ax_EPI_fMRI_Accel2_15mm'}; 
b.runNumbers = [1 3:6 8:12];
end


if strcmp(b.curSubj,'vr19')
    b.funcRuns = {'08_1_Ax_EPI_fMRI_Accel2_15mm' '09_1_Ax_EPI_fMRI_Accel2_15mm'...
        '11_1_Ax_EPI_fMRI_Accel2_15mm' '12_1_Ax_EPI_fMRI_Accel2_15mm'...
        '14_1_Ax_EPI_fMRI_Accel2_15mm'};
    b.runNumbers = 1:5;
end

if strcmp(b.curSubj,'vr21')
    b.funcRuns = {'08_1_Ax_EPI_fMRI_Accel2_15mm' '09_1_Ax_EPI_fMRI_Accel2_15mm'...
        '11_1_Ax_EPI_fMRI_Accel2_15mm' '12_1_Ax_EPI_fMRI_Accel2_15mm'...
        '14_1_Ax_EPI_fMRI_Accel2_15mm' ...
        '17_1_Ax_EPI_fMRI_Accel2_15mm' '18_1_Ax_EPI_fMRI_Accel2_15mm'...
        '20_1_Ax_EPI_fMRI_Accel2_15mm' '21_1_Ax_EPI_fMRI_Accel2_15mm'...
        '23_1_Ax_EPI_fMRI_Accel2_15mm' '24_1_Ax_EPI_fMRI_Accel2_15mm'};       % folders containing functional images
    b.runNumbers = [1:5 7:12];
    
end


if strcmp(b.curSubj,'vr23')
    b.funcRuns = {'08_1_Ax_EPI_fMRI_Accel2_15mm' '09_1_Ax_EPI_fMRI_Accel2_15mm'...
        '11_1_Ax_EPI_fMRI_Accel2_15mm' '12_1_Ax_EPI_fMRI_Accel2_15mm'...
        '14_1_Ax_EPI_fMRI_Accel2_15mm' '15_1_Ax_EPI_fMRI_Accel2_15mm'...
        '20_1_Ax_EPI_fMRI_Accel2_15mm' ...
        '23_1_Ax_EPI_fMRI_Accel2_15mm' '24_1_Ax_EPI_fMRI_Accel2_15mm'};
    b.runNumbers = [1:6 9 11:12];
end

if strcmp(b.curSubj,'vr24')
    b.funcRuns = {'08_1_Ax_EPI_fMRI_Accel2_15mm' '09_1_Ax_EPI_fMRI_Accel2_15mm'...
        '11_1_Ax_EPI_fMRI_Accel2_15mm' '12_1_Ax_EPI_fMRI_Accel2_15mm'};
    b.runNumbers = 1:4;
end


if strcmp(b.curSubj,'vr27')
   b.funcRuns = {'08_1_Ax_EPI_fMRI_Accel2_15mm' '09_1_Ax_EPI_fMRI_Accel2_15mm'...
    '11_1_Ax_EPI_fMRI_Accel2_15mm' '12_1_Ax_EPI_fMRI_Accel2_15mm'...
    '14_1_Ax_EPI_fMRI_Accel2_15mm' '15_1_Ax_EPI_fMRI_Accel2_15mm'...
    '17_1_Ax_EPI_fMRI_Accel2_15mm' ...
    '20_1_Ax_EPI_fMRI_Accel2_15mm' '21_1_Ax_EPI_fMRI_Accel2_15mm'...
    '23_1_Ax_EPI_fMRI_Accel2_15mm' '24_1_Ax_EPI_fMRI_Accel2_15mm'};
b.runNumbers = [1:7 9:12];
end

if strcmp(b.curSubj,'vr28')
   b.funcRuns = {'08_1_Ax_EPI_fMRI_Accel2_15mm' '09_1_Ax_EPI_fMRI_Accel2_15mm'...
    '11_1_Ax_EPI_fMRI_Accel2_15mm' '12_1_Ax_EPI_fMRI_Accel2_15mm'...
    '14_1_Ax_EPI_fMRI_Accel2_15mm'};
b.runNumbers = 1:5;
end

if strcmp(b.curSubj,'vr29')
   b.funcRuns = {'08_1_Ax_EPI_fMRI_Accel2_15mm' '09_1_Ax_EPI_fMRI_Accel2_15mm'...
    '11_1_Ax_EPI_fMRI_Accel2_15mm' '12_1_Ax_EPI_fMRI_Accel2_15mm'...
    '14_1_Ax_EPI_fMRI_Accel2_15mm'};
b.runNumbers = 1:5;
end

end
